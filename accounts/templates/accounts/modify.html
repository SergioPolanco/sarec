{% extends 'config.html' %}
{% load staticfiles %}

{% block title %}Perfiles | Dirección de Investigación | Universidad Nacional de Ingeniería{% endblock title %}

{% block header %}
{% endblock header %}

{% block breadcrumbs %} Cuentas de Usuario {% endblock breadcrumbs %}

{% block titlepage %}Usuarios{% endblock titlepage %}
{% block description %}Editar Usuarios{% endblock description %}

{% block content %}
    <div class="row form-modify" style="display:none;">
        <div class="col-xs-12">
            <div class="clearfix">
                <div class="pull-left alert alert-success no-margin">
                    <button type="button" class="close" data-dismiss="alert">
                        <i class="ace-icon fa fa-times"></i>
                    </button>
                    <i class="ace-icon fa fa-umbrella bigger-120 blue"></i>
                    Haga clic en la imagen de abajo o en los campos de texto para cambiar los datos de la cuenta...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </div>
            </div>
            <div class="hr dotted">
            </div>
            <form name="form-new-account" id="form-new-account" class="form-horizontal" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="tabbable">
                    <ul class="nav nav-tabs padding-16">
                        <li class="active">
                            <a data-toggle="tab" href="#edit-basic">
                                <i class="green ace-icon fa fa-pencil-square-o bigger-125"></i>
                                Información
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content profile-edit-tab-content">
                        <div id="edit-basic" class="tab-pane in active">
                            <h4 class="header blue bolder smaller">General</h4>
                            <div class="row">
                                <div class="col-xs-12 col-sm-4">
                                  <div class="center-block">
                                    <label class="ace-file-input ace-file-multiple">
                                      <input name="avatar" type="file">
                                      <span class="profile-picture center-block" style="display:block!important;border: 0px solid #CCC;box-shadow: 0px 0px 0px rgba(0,0,0,.15);">
                                        <img id="avatar" name="avatar" class="center-block editable img-responsive editable-click editable-empty" src="{% static 'img/image.png' %}" style="max-height:160px;"></img>
                                      </span>
                                    </label>
                                    <div class="space-4"></div>
                                  </div>
                                </div>
                                <div class="vspace-12-sm"></div>
                                <div class="col-xs-12 col-sm-8">
                                    <div class="form-group hide">
                                        <label class="col-sm-4 control-label no-padding-right" for="form-field-username">Nombre de Usuario</label>
                                        <div class="col-sm-8">
                                            <input class="col-xs-12 col-sm-10" readonly autocomplete="off" type="hidden" id="form-field-username" name="id" placeholder="id" value="">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label no-padding-right" for="form-field-username">Nombre de Usuario</label>
                                        <div class="col-sm-8">
                                            <input class="col-xs-12 col-sm-10" readonly autocomplete="off" type="text" id="form-field-username" name="username" placeholder="Username" value="">
                                        </div>
                                    </div>
                                    <div class="space-4"></div>
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label no-padding-right" for="form-field-first">Nombre</label>
                                        <div class="col-sm-8">
                                            <input class="input-small" autocomplete="off" name="firstname" type="text" id="form-field-first" placeholder="First Name" value="">
                                            <input class="input-small" autocomplete="off" name="lastname" type="text" id="form-field-last" placeholder="Last Name" value="">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label no-padding-right" for="form-field-email">Email</label>
                                        <div class="col-sm-8">
                                          <input type="email" autocomplete="off" name="email" id="form-field-email" value="" placeholder="Email">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <h4 class="header blue bolder smaller">Perfil</h4>

                            <div class="space-4"></div>
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 no-padding-right no-padding-top">Administrador</label>
                                <div class="col-xs-12 col-sm-9">
                                    <div>
                                        <label>
                                            <input name="admin" type="checkbox" class="ace">
                                            <span class="lbl"> Si</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 no-padding-right no-padding-top">Activo</label>
                                <div class="col-xs-12 col-sm-9">
                                    <div>
                                        <label>
                                            <input name="active" type="checkbox" class="ace">
                                            <span class="lbl"> Si</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="space-4"></div>
                            <h4 class="header blue bolder smaller">Contraseña</h4>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right" for="form-field-pass1">Nueva Contraseña</label>
                                <div class="col-sm-9">
                                    <input type="password" autocomplete="off" name="newpassword" id="form-field-pass1" placeholder="********">
                                </div>
                            </div>
                            <div class="space-4"></div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right" for="form-field-pass2">Confirmar Contraseña</label>
                                <div class="col-sm-9">
                                    <input type="password" autocomplete="off" name="confirmpassword" id="form-field-pass2" placeholder="********">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="space-4"></div>
                <div class="clearfix" id="message">
                </div>
                <div class="clearfix form-actions">
                    <div class="col-md-offset-3 col-md-9">
                        <i class="ace-icon fa fa-spinner fa-spin orange bigger-225 text-center hide load"></i>
                        <button class="btn btn-info" type="submit">
                            <i class="ace-icon fa fa-check bigger-110"></i>
                            Guardar
                        </button>
                        &nbsp; &nbsp;
                        <button class="btn" type="button" name="cancelar">
                            <i class="ace-icon fa fa-undo bigger-110"></i>
                            Cancelar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row form-search">
        <div class="col-xs-12">
            <div class="table-header">
                Resultados para "Usuarios Registrados"
            </div>
            <div>
                <div id="sample-table-2_wrapper" class="dataTables_wrapper form-inline no-footer">
                    <table id="sample-table-2" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="sample-table-2_info">
                        <thead>
                            <tr role="row">
                                <th class="center sorting_disabled" rowspan="1" colspan="1" aria-label=""></th>
                                <th class="sorting hide" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Domain: activate to sort column ascending">Id</th>
                                <th class="sorting" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Domain: activate to sort column ascending">Usuario</th>
                                <th class="sorting" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Price: activate to sort column ascending">Nombre</th>
                                <th class="hidden-480 sorting" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Clicks: activate to sort column ascending">Apellido</th>
                                <th class="sorting" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Update: activate to sort column ascending">
                                    <i class="ace-icon fa fa-envelope-o bigger-110 hidden-480"></i>
                                    Email
                                </th>
                                <th class="hidden-480 sorting" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending">Estatus</th>
                                <th class="sorting_disabled hide" rowspan="1" colspan="1" aria-label=""></th>
                                <th class="sorting_disabled" rowspan="1" colspan="1" aria-label=""></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in user_list %}
                                <tr role="row" class="odd" name="{{ user.id }}">
                                    <td class="center">
                                        <label class="position-relative">
                                            <input type="checkbox" class="ace">
                                            <span class="lbl"></span>
                                        </label>
                                    </td>
                                    <td class="hide">
                                        {{ user.id }}
                                    </td>
                                    <td>
                                        {{ user.username }}
                                    </td>
                                    <td>
                                        {{ user.first_name }}
                                    </td>
                                    <td class="hidden-480">{{ user.last_name }}</td>
                                    <td>
                                        {{ user.email }}
                                    </td>
                                    <td class="hidden-480">
                                        {% if user.is_active == True %}
                                            <span class="label label-sm label-info arrowed arrowed-righ">Activo</span>
                                        {% else %}
                                            <span class="label label-sm label-warning arrowed arrowed-righ">Inactivo</span>
                                        {% endif %}
                                    </td>
                                    <td class="hide">
                                        {% if user.is_superuser == True %}
                                            <span class="label label-sm label-info arrowed arrowed-righ">Activo</span>
                                        {% else %}
                                            <span class="label label-sm label-warning arrowed arrowed-righ">Inactivo</span>
                                        {% endif %}
                                    </td>
                                    <td>
                                        <div class="hidden-sm hidden-xs action-buttons">
                                            <a class="blue" href="#">
                                                <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                            </a>
                                            <a class="green" href="#">
                                                <i class="ace-icon fa fa-pencil bigger-130"></i>
                                            </a>
                                        </div>
                                        <div class="hidden-md hidden-lg">
                                            <div class="inline position-relative">
                                                <button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
                                                    <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                                </button>
                                                <ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                                    <li>
                                                        <a href="#" class="tooltip-info" data-rel="tooltip" title="" data-original-title="View">
                                                            <span class="blue">
                                                                <i class="ace-icon fa fa-search-plus bigger-120"></i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a href="#" class="tooltip-success" data-rel="tooltip" title="" data-original-title="Edit">
                                                            <span class="green">
                                                                <i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="dialog-message" class="hide">
    </div>
{% endblock content %}

{% block script %}
    <script type="text/javascript" src="{% static 'js/sarec/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/sarec/jquery.dataTables.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/sarec/jquery.dataTables.bootstrap.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/sarec/maskedinput.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/sarec/jquery.gritter.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/sarec/modifyprofile.js' %}"></script>
{% endblock script %}
